#home_page_app
  .d-inline-block.ml-2
    .button-normal(v-on:click='get_product')
      XXXXX
  %br

  .d-inline-block.ml-2.mt-4(v-for='product in products')
    .button-normal(v-on:click='product_selected(product)' :style='seleted(customer_set.product_id, product.id)')
      {{ product.title }}
  %br

  .d-inline-block.ml-2.mt-4(v-for='variant in current_variants')
    .button-normal(v-on:click='variant_seleted(variant)' :style='seleted(customer_set.variant_id, variant.id)')
      {{ variant.weight }} ${{ variant.price }}

  %br

  .d-inline-block.ml-2.mt-4(v-if='customer_set.variant_id != 0' v-for='period in periods')
    .button-normal(v-on:click='period_seleted(period)' :style='seleted(customer_set.period, period.value)')
      {{ period.name }}

  %br

  .d-inline-block.ml-2.mt-4(v-if='customer_set.period.length != 0' v-for='limit in limits')
    .button-normal(v-on:click='limit_seleted(limit)' :style='seleted(customer_set.limit, limit.value)')
      {{ limit.name }}

  %br

  .d-inline-block.ml-2.mt-4(v-if='show_address_input')
    %input.form-control.mt-2(v-model='customer_set.address' placeholder='請輸入地址')

  %hr/
  .button-normal.ml-2(v-if='show_buy_button' v-on:click='order_request')
    Buy


  %div.mt-6(v-if='object_present(order)')
    %div
      訂單類型： 訂閱
    %div
      每次金額：
      {{order.period_amount}}
    %div
      訂閱週期：
      {{order.frequency}}日/次
    %div
      訂閱次數：
      {{order.exec_times}}
    %div
      持續時間：
      {{order.duration}}天

  %div(v-if='object_present(order)')
    / 綠界付款連結
    = form_tag("#{Settings.ecpay.host}/Cashier/AioCheckOut/V5", id: 'ecpay_info_form', method: "post", :authenticity_token => false, :enforce_utf8 => false ) do
      %input(v-for='(value, key) in ecpay_info' v-bind:name='key' v-bind:value='value' type="hidden")
    .button-normal{ 'v-on:click' => 'go_to_pay'}
      Pay!
